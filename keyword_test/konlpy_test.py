from konlpy.tag import Okt #í˜•íƒœì†Œ ë¶„ì„ê¸°
from collections import Counter # í‚¤ì›Œë“œ ì¹´ìš´íŠ¸ ì„¸ê¸°
import re # ì •ê·œí‘œí˜„ì‹
import time

# í…ŒìŠ¤íŠ¸ìš© ë°©ë¬¸ê¸°ë¡ ë¦¬ìŠ¤íŠ¸
visit_titles = [
    "ìš´ì˜ì²´ì œ ë° ë©”ëª¨ë¦¬ ê´€ë¦¬",
    "ê°œë°œì í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘ë²•",
    "ì´ë ¥",
    "í•  ì¼",
    "ë…¸ì…˜ 200% í™œìš©ë²•: ë…¸ì…˜ í¬íŠ¸í´ë¦¬ì˜¤ ë„ì „ê¸° | ìš”ì¦˜IT",
    "ì±—GPTë¡œ PPT 10ë°° ë¹ ë¥´ê²Œ ë§Œë“¤ê¸° (feat. Gamma) | ìš”ì¦˜IT",
    "panda_love (Aurora) / ì‘ì„±ê¸€ - velog",
    "Emoji Homepage ğŸ‘€ - Copy and paste emoji. ğŸ’¨ Fast and ğŸ‘Œ Simple.",
    "ê²½ë ¥ ì •ë¦¬ ë„ì›€",
    "í™ê´‘í˜¸(Aurora)ì˜ í¬íŠ¸í´ë¦¬ì˜¤",
    "Framer",
    "í—¤ì´ë§ ì„œë¹„ìŠ¤ ì„¤ëª…",
    "(1) ì‚¬ë°©íŒ”ë°©",
    "í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• 4. ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§ ë° í…ŒìŠ¤íŠ¸ ë„êµ¬ ì„¤ì •",
     "ë§ˆìŒì´ ì¡°ê¸‰í•œ 5ì‹œê°„ ë¸Œê¸ˆ - YouTube",
    "ID",
    "ì‚¬ë°©íŒ”ë°© â€“ Figma",
    "ì‚¬ë°©íŒ”ë°© â€“ Figma",
    "ì‚¬ë°©íŒ”ë°© â€“ Figma",
    "ì‚¬ë°©íŒ”ë°© â€“ Figma",
    "Figma",
    "ì¸í”„ë¼ ë„ì»¤ ìë°” - Google ê²€ìƒ‰",
    "Google ê³ ê¸‰ê²€ìƒ‰",
    "ì¸í”„ë¼ ë„ì»¤ ìë°” - Google ê²€ìƒ‰",
    "ì¸í”„ë¼ ë„ì»¤ ìë°” - Google ê²€ìƒ‰",
    "íŠ¹í™” í”„ë¡œì íŠ¸.ë¯¸ì •",
    "ì‚¬ìš©ì íˆìŠ¤í† ë¦¬ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œí•˜ëŠ” ëª¨ë¸ë“¤ ì„±ëŠ¥ ë¹„êµ&ë¶„ì„",
    "ì‚¬ìš©ì íˆìŠ¤í† ë¦¬ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œí•˜ëŠ” ëª¨ë¸ë“¤ ì„±ëŠ¥ ë¹„êµ&ë¶„ì„",
    "(1) ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ",
    "ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ",
    "ë°©ë¬¸ê¸°ë¡ ì œëª© ì •ë¦¬",
    "í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• 4. ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§ ë° í…ŒìŠ¤íŠ¸ ë„êµ¬ ì„¤ì •",
    "ì¸í”„ë¼ ìë°” ë„ì»¤ - Google ê²€ìƒ‰",
    "ChatGPT",
    "Semi-BookMark Manager",
    "íŠ¹í™” í”„ë¡œì íŠ¸.ë¯¸ì •",
    "SSAFY_1í•™ê¸° ê°•ì˜ ë…¸íŠ¸ | ì „ì²´ ë³´ê¸°",
    "ì¶œì„í˜„í™© ëª©ë¡",
    "ì‚¼ì„± ì²­ë…„ SW ì•„ì¹´ë°ë¯¸",
    "í™ê´‘í˜¸ì§„ë£Œí™•ì¸ì„œ.pdf",
    "í™ê´‘í˜¸ë‹˜ ì§„ë£Œ í™•ì¸ì„œ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.",
    "ë°›ì€ë©”ì¼í•¨(2768) : ë„¤ì´ë²„ ë©”ì¼",
    "[í† ìµ&í† ìµSpeaking] 'ë‹¤í–‰íˆë„ 4ì‹œë¶€í„° 4ì‹œ 30ë¶„ê¹Œì§€ê°€ ììœ  ì‹œê°„ì…ë‹ˆë‹¤.'ì˜ ì˜ì–´í‘œí˜„ì€?",
    "ë‚´ê²Œì“´ë©”ì¼í•¨(6) : ë„¤ì´ë²„ ë©”ì¼",
    "Redis DB íŠ¹ì§•ê³¼ ì‚¬ìš©ë²•",
    "KoNLPy ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ëª…",
    "[SSAFYì·¨ì—…ì§€ì›ì„¼í„°] ë‹¤ëŒ€ë‹¤ ì˜¨/ì˜¤í”„ ëª¨ì˜ë©´ì ‘ ì»¨ì„¤íŒ… ì‹ ì²­(25ë…„ 3ì›” 24ì¼~26ì¼)",
    "(101) CarShopí”„ë¡œì íŠ¸ ì‹œì—° - YouTube",
    "ìµœì¢…ê´€í†µ - í”„ë ˆì  í…Œì´ì…˜ - Canva",
    "[SSAFY] ITí¬íŠ¸í´ë¦¬ì˜¤ ì‹¤ìŠµ ì–‘ì‹(íƒ€ì´í‹€ ì…ë ¥í•˜ê¸°!)"
]

start_time = time.time()


# ë¶ˆí•„ìš”í•œ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ (ì¡°ì‚¬, ì¼ë°˜ì ì¸ ë‹¨ì–´ ë“±)
stopwords = {"ë°", "ì´ë ¥", "í•  ì¼", "ì‘ì„±ê¸€", "í™ˆí˜ì´ì§€", "ì„¤ëª…", "ë„ì›€", "ì„œë¹„ìŠ¤"}

# KoNLPy Okt í˜•íƒœì†Œ ë¶„ì„ê¸° ì´ˆê¸°í™”. ëª…ì‚¬ë§Œ ì¶”ì¶œí•  ê²ƒì„.
okt = Okt()

# ëª…ì‚¬ ì¶”ì¶œ í•¨ìˆ˜
def extract_keywords(titles):
    all_nouns = [] # ëª…ì‚¬ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸
    
    for title in titles:
        title = re.sub(r"[^ê°€-í£a-zA-Z0-9\s]", "", title)  # íŠ¹ìˆ˜ë¬¸ì ì œê±°
        nouns = okt.nouns(title)  # ëª…ì‚¬ ì¶”ì¶œ
        filtered_nouns = [n for n in nouns if n not in stopwords and len(n) > 1]  # ë¶ˆí•„ìš”í•œ ë‹¨ì–´ ì œê±°
        all_nouns.extend(filtered_nouns)
    
    return Counter(all_nouns)

# í‚¤ì›Œë“œ ë¶„ì„ ì‹¤í–‰
keyword_counts = extract_keywords(visit_titles)

# ìƒìœ„ 10ê°œ í‚¤ì›Œë“œ ì¶œë ¥
print("ë°©ë¬¸ê¸°ë¡ì—ì„œ ì¶”ì¶œëœ ì£¼ìš” í‚¤ì›Œë“œ TOP :")
for word, count in keyword_counts.most_common():# ì •ë ¬í•´ì„œ ë³´ì—¬ì£¼ê² ë‹¤.
    print(f"- {word}: {count}íšŒ")

# visit_titlesì˜ ì‚¬ì´ì¦ˆ

end_time = time.time()
total_time = end_time - start_time
print(f"\nâ± ì´ ì‹¤í–‰ ì‹œê°„: {total_time:.2f}ì´ˆ")